<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Audio Player with Lyrics</title>
    <style>
        #lyrics {
            white-space: pre-line;
        }

        .bold {
            font-weight: bold;
        }
    </style>
</head>
<body>

<audio id="audio" controls>
    <source src="https://shorturl.at/ju046" type="audio/mp3">
    Your browser does not support the audio tag.
</audio>

<div id="lyrics"></div>

<script>
    document.addEventListener('DOMContentLoaded', function () {
        const audio = document.getElementById('audio');
        const lyricsDiv = document.getElementById('lyrics');

        // Define your lyrics file URL
        const lyricsFile = 'file.lyr';

        // Fetch the lyrics file
        fetch(lyricsFile)
            .then(response => response.text())
            .then(lyrics => {
                // Parse the lyrics into an array of objects
                const parsedLyrics = lyrics.split('\n').map(line => {
                    const match = line.match(/^\[(\d+:\d+)\]\s*(.*)/);
                    return match ? { time: match[1], text: match[2] } : null;
                }).filter(Boolean);

                // Update lyrics on audio time update
                audio.addEventListener('timeupdate', function () {
                    const currentTime = audio.currentTime;
                    const currentLyric = parsedLyrics.find(lyric => timeToSeconds(lyric.time) > currentTime);

                    if (currentLyric) {
                        // Display lyrics with current time bold
                        lyricsDiv.innerHTML = parsedLyrics.map(lyric => {
                            const timeInSeconds = timeToSeconds(lyric.time);
                            const isBold = timeInSeconds <= currentTime && timeInSeconds + 3 > currentTime;
                            return `<span class="${isBold ? 'bold' : ''}">${lyric.text}</span><br>`;
                        }).join('');
                    }
                });
            });

        // Function to convert time in MM:SS format to seconds
        function timeToSeconds(time) {
            const [minutes, seconds] = time.split(':').map(Number);
            return minutes * 60 + seconds;
        }
    });
</script>

</body>
</html>
